<form type="submit" #companyForm="ngForm">
    <mat-card class="form-card">
      <mat-card-title>
        <label class="small">{{title | uppercase}}</label>
        <span class="app-toolbar-filler"></span>
        <button *ngIf='readonly' color="primary" (click)="toggle_edit_mode()" mat-mini-fab>
          <mat-icon class="form-button-icon">edit</mat-icon>
        </button>
        <button *ngIf='!readonly' (click)="save()" mat-button color="primary">
          <label class="small">ΑΠΟΘΗΚΕΥΣΗ</label>
        </button>
        <button *ngIf='!readonly' (click)="cancel()" mat-button color="warn">
          <label class="small">ΑΚΥΡΩΣΗ</label>
        </button>
      </mat-card-title>
      <mat-card-content>
        <div class="form-container">
          <img class="company-avatar-large mat-elavation-z6" [src]="model?.logoPath">
          <button *ngIf='!readonly' color="accent" class="company-avatar-button" mat-mini-fab (click)='openLogoDialog($event)'>
            <mat-icon aria-label="icon-button">add_a_photo</mat-icon>
          </button>
  
          <h3 *ngIf='readonly'>{{model?.name}}</h3>
          <mat-form-field *ngIf='!readonly'>
            <input matInput [readonly]='readonly' #name="ngModel" name="name" [(ngModel)]='model.name' placeholder="Ονομασία (Διακριτικός τίτλος)"
              floatPlaceholder='auto' maxlength="150">
            <mat-hint align="end">{{name.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model?.legalName}}</label>
          <mat-form-field *ngIf='!readonly'>
            <input matInput [readonly]='readonly' #legalname="ngModel" name="legalName" [(ngModel)]='model.legalName' placeholder="Επωνυμία"
              floatPlaceholder='auto' maxlength="150">
            <mat-hint align="end">{{legalname.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model?.lineOfBusiness}}</label>
          <mat-form-field *ngIf='!readonly'>
            <input matInput [readonly]='readonly' #lineofbusiness="ngModel" name="lineofbusiness" [(ngModel)]='model.lineOfBusiness'
              placeholder="Επάγγελμα, δραστηριότητα" floatPlaceholder='auto' maxlength="150">
            <mat-hint align="end">{{lineofbusiness.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model?.taxCode}}</label>
          <mat-form-field *ngIf='!readonly' class="short">
            <input matInput [readonly]='readonly' #taxcode="ngModel" name="taxcode" [(ngModel)]='model.taxCode' placeholder="ΑΦΜ"
              floatPlaceholder='auto' maxlength="50">
            <mat-hint align="end">{{taxcode.value?.length || 0}}/50</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model?.taxOffice}}</label>
          <mat-form-field *ngIf='!readonly'>
            <input matInput [readonly]='readonly' #taxoffice="ngModel" name="taxoffice" [(ngModel)]='model.taxOffice' placeholder="ΔΟΥ"
              floatPlaceholder='auto' maxlength="150">
            <mat-hint align="end">{{taxoffice.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model?.currencyCode}}</label>
          <mat-form-field *ngIf='!readonly' class="short">
            <mat-select [disabled]='readonly' name="currency" #currency="ngModel" [(ngModel)]='model.currencyCode' placeholder="Νόμισμα">
              <mat-option *ngFor='let currency of currencies' [value]="currency.id">{{currency.description}}</mat-option>
            </mat-select>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model?.email}}</label>
          <mat-form-field *ngIf='!readonly'>
            <input matInput [readonly]='readonly' #email="ngModel" name="email" [(ngModel)]='model.email' placeholder="Email" floatPlaceholder='auto'
              maxlength="150">
            <mat-hint align="end">{{email.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model?.website}}</label>
          <mat-form-field *ngIf='!readonly'>
            <input matInput [readonly]='readonly' #website="ngModel" name="website" [(ngModel)]='model.website' placeholder="WWW" floatPlaceholder='auto'
              maxlength="150">
            <mat-hint align="end">{{website.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
        </div>
      </mat-card-content>
      <!-- address  -->
      <mat-card-title>
        <label class="small inline">ΔΙΕΥΘΥΝΣΗ ΕΔΡΑΣ</label>
      </mat-card-title>
      <mat-card-content>
        <div class="form-container">
          <label *ngIf='readonly'>{{model.address?.name}}</label>
          <mat-form-field *ngIf='!readonly'>
            <input matInput [readonly]='readonly' #address1="ngModel" name="address1" [(ngModel)]='model.address.name' placeholder="Διεύθυνση #1"
              floatPlaceholder='auto' maxlength="150">
            <mat-hint align="end">{{address1.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model.address?.line1}}</label>
          <mat-form-field *ngIf='!readonly'>
            <input matInput [readonly]='readonly' #address2="ngModel" name="address2" [(ngModel)]='model.address.line1' placeholder="Διεύθυνση #2"
              floatPlaceholder='auto' maxlength="150">
            <mat-hint align="end">{{address2.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model.address?.zipCode}}</label>
          <mat-form-field *ngIf='!readonly' class="short">
            <input matInput [readonly]='readonly' #zipCode="ngModel" name="zipCode" [(ngModel)]='model.address.zipCode' placeholder="ΤΚ"
              floatPlaceholder='auto' maxlength="150">
            <mat-hint align="end">{{zipCode.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model.address?.city}}</label>
          <mat-form-field *ngIf='!readonly'>
            <input matInput [readonly]='readonly' #city="ngModel" name="city" [(ngModel)]='model.address.city' placeholder="Πόλη"
              floatPlaceholder='auto' maxlength="150">
            <mat-hint align="end">{{city.value?.length || 0}}/150</mat-hint>
          </mat-form-field>
  
          <label *ngIf='readonly'>{{model.address?.countryCode}}</label>
          <mat-form-field *ngIf='!readonly' class="short" floatPlaceholder='auto' name="country" #country>
            <mat-select [disabled]='readonly' name="country" #currency="ngModel" [(ngModel)]='model.address.countryCode' placeholder="Χώρα">
              <mat-option *ngFor='let country of countries' [value]="country.id">{{country.description}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
  
      </mat-card-content>
    </mat-card>
  </form>  